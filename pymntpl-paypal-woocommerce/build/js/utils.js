/*! For license information please see utils.js.LICENSE.txt */
(()=>{"use strict";var e={345:(e,t,n)=>{function r(e,t){void 0===t&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach((function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttribute("nonce",t["data-csp-nonce"])})),n}function o(e,t){if(void 0===t&&(t=i()),u(e,t),"undefined"==typeof window)return t.resolve(null);var n=function(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL),function(e){var t=e["merchant-id"],n=e["data-merchant-id"],r="",o="";Array.isArray(t)?t.length>1?(r="*",o=t.toString()):r=t.toString():"string"==typeof t&&t.length>0?r=t:"string"==typeof n&&n.length>0&&(r="*",o=n),e["merchant-id"]=r,e["data-merchant-id"]=o}(e);var n,r,o=Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]&&""!==e[t]})).reduce((function(t,n){var r=e[n].toString();return"data-"===n.substring(0,5)?t.dataAttributes[n]=r:t.queryParams[n]=r,t}),{queryParams:{},dataAttributes:{}}),i=o.queryParams,a=o.dataAttributes;return{url:"".concat(t,"?").concat((n=i,r="",Object.keys(n).forEach((function(e){0!==r.length&&(r+="&"),r+=e+"="+n[e]})),r)),dataAttributes:a}}(e),o=n.url,c=n.dataAttributes,l=c["data-namespace"]||"paypal",s=a(l);return function(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(null===n)return null;var o=r(e,t),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(o.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach((function(e){i.dataset[e]!==o.dataset[e]&&(a=!1)})),a?n:null}(o,c)&&s?t.resolve(s):function(e,t){void 0===t&&(t=i()),u(e,t);var n=e.url,o=e.attributes;if("string"!=typeof n||0===n.length)throw new Error("Invalid url.");if(void 0!==o&&"object"!=typeof o)throw new Error("Expected attributes to be an object.");return new t((function(e,t){if("undefined"==typeof window)return e();!function(e){var t=e.onSuccess,n=e.onError,o=r(e.url,e.attributes);o.onerror=n,o.onload=t,document.head.insertBefore(o,document.head.firstElementChild)}({url:n,attributes:o,onSuccess:function(){return e()},onError:function(){var e=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then((function(n){return 200===n.status&&t(e),n.text()})).then((function(e){var n=function(e){var t=e.split("/* Original Error:")[1];return t?t.replace(/\n/g,"").replace("*/","").trim():e}(e);t(new Error(n))})).catch((function(e){t(e)})):t(e)}})}))}({url:o,attributes:c},t).then((function(){var e=a(l);if(e)return e;throw new Error("The window.".concat(l," global variable is not available."))}))}function i(){if("undefined"==typeof Promise)throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function a(e){return window[e]}function u(e,t){if("object"!=typeof e||null===e)throw new Error("Expected an options object.");if(void 0!==t&&"function"!=typeof t)throw new Error("Expected PromisePonyfill to be a function.")}n.d(t,{ve:()=>o})},567:e=>{e.exports=window.jQuery},819:e=>{e.exports=window.lodash}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{SHIPPING_OPTION_REGEX:()=>w,convertCartAddressToPayPal:()=>q,convertFormToData:()=>X,convertPayPalAddressToCart:()=>M,debounce:()=>Y,extractFullName:()=>F,extractShippingMethod:()=>N,fieldsToJson:()=>k,formatPaymentMethod:()=>K,getErrorMessage:()=>x,getFieldValue:()=>A,getPage:()=>V,getPayPalQueryParams:()=>S,getRestPath:()=>H,getRestRoute:()=>L,getSetting:()=>E,isAddPaymentMethod:()=>Q,isAdminUser:()=>Z,isCart:()=>U,isCheckout:()=>G,isFieldRequired:()=>te,isMiniCartEnabled:()=>$,isOrderPay:()=>B,isPluginConnected:()=>W,isProduct:()=>z,isProduction:()=>ee,isShop:()=>J,isValid:()=>R,isValidAddress:()=>I,isValidFieldValue:()=>D,loadPayPalSdk:()=>j,setFieldValue:()=>C,setSetting:()=>_,submitErrorMessage:()=>T});var e=n(819),t=n(567),o=n.n(t);const i=window.wp.hooks;var a=n(345),u=["locale"];function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={},h=!1,m=new Map,b=null,w=/^([\w]+)\:(.+)$/,P={address_1:"address_line_1|line1",address_2:"address_line_2|line2",state:"admin_area_1|state",city:"admin_area_2|city",postcode:"postal_code",country:"country_code"},O={city:"city",state:"state",postal_code:"postcode",country_code:"country"},j=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(r,o){!n||(0,e.isEmpty)(n)||(0,e.isEqual)(n,g)?window.paypal&&!h?r(window.paypal):(i.defaultHooks.addAction("paypalInstanceCreated","wcPPCP",(function(e){r(e)})),i.defaultHooks.addAction("paypalLoadError","wcPPCP",(function(){o()}))):(g=n,window.paypal&&i.defaultHooks.doAction("paypalInstanceCleanup",window.paypal),h=!0,(0,a.ve)(p({},n)).then((function(e){r(e),i.defaultHooks.doAction("paypalInstanceCreated",e,g)})).catch((function(e){var a;console.log(e);var c,l=(null==e||null===(a=e.message)||void 0===a?void 0:a.toLowerCase())||null;if(l){if(l.includes("locale")){n.locale;var s=f(n,u);return t(s).then((function(e){r(e)}))}l.includes("client-id not recognized")||l.includes("invalid query value for client-id")?c={code:"invalid_client_id"}:l.includes("invalid query value for currency")}i.defaultHooks.doAction("paypalLoadError"),o(c)})).finally((function(){h=!1})))}))},E=function(e){return void 0!==window.wcPPCPSettings&&window.wcPPCPSettings[e]||{}},_=function(e,t){if(void 0!==window.wcPPCPSettings)return window.wcPPCPSettings[e]=t},S=function(){return E("queryParams")},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"billing",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"shipping"!=e.substring(0,"shipping".length)&&"billing"!=e.substring(0,"billing".length)&&t&&(e="".concat(t,"_").concat(e)),n?m.get(e):o()('[name="'.concat(e,'"]')).length?o()('[name="'.concat(e,'"]')).val():m.get(e)},k=function(){var e={};return m.forEach((function(t,n){e[n]=t})),e},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"billing";n&&"shipping"!=e.substring(0,"shipping".length)&&"billing"!=e.substring(0,"billing".length)&&(e="".concat(n,"_").concat(e)),m.set(e,t),o()('[name="'.concat(e,'"]')).length&&o()('[name="'.concat(e,'"]')).val(t)},x=function(e){var t=E("errorMessages");return"string"==typeof e?e:null!=e&&e.code&&null!=t&&t[e.code]?t[e.code]:null!=e&&e.message?e.message:void 0},T=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkout";if(null==e||null===(n=e.message)||void 0===n||null===(r=n.toLowerCase())||void 0===r||!r.match(/detected popup close|window is closed/)){var a=x(e),u="woocommerce-NoticeGroup",c=o()(t);"checkout"===i&&(u+=" woocommerce-NoticeGroup-checkout"),a=Array.isArray(e)?'<div class="'+u+'"><ul class="woocommerce-error"><li>'+e.join("</li><li>")+"</li></ul></div>":"string"==typeof e&&/<[^>]*>/.test(e)?'<div class="'+u+'">'+e+"</div>":'<div class="'+u+'"><ul class="woocommerce-error"><li>'+a+"</li></ul></div>",o()(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove(),c.prepend(a),o().scroll_to_notices?o().scroll_to_notices(c):o()("html, body").animate({scrollTop:c.offset().top-100},1e3)}},I=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i="undefined"==typeof wc_address_i18n_params?E("i18n"):wc_address_i18n_params;if((0,e.isEmpty)(t))return!1;if(b||(b=JSON.parse(i.locale.replace(/&quot;/g,'"'))),!t.country||(0,e.isEmpty)(t))return!1;var a=null!==(n=b)&&void 0!==n&&n[t.country]?b[t.country]:b.default;a=o().extend(!0,{},b.default,a);var u=Object.entries(a).filter((function(e){var t=l(e,2),n=t[0];return t[1],!r.includes(n)}));for(var c in a=Object.fromEntries(u)){var s;if(null!==(s=a[c])&&void 0!==s&&s.required){var d=(null==t?void 0:t[c])||null;if(!d||null==d||!d.trim())return!1}}return!0},q=function(e){var t={};for(var n in e)if(null!=P&&P[n])if(P[n].includes("|")){var r=l(P[n].split("|"),2),o=r[0];r[1],t[o]=e[n]}else t[P[n]]=e[n];return t},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};n=t?O:Object.fromEntries(Object.entries(P).map((function(e){var t=l(e,2),n=t[0];return[t[1],n]})));var r={};for(var o in n)if(o.includes("|")){var i,a=o.split("|"),u=c(a);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(e.hasOwnProperty(s)){r[n[o]]=e[s];break}r[n[o]]=""}}catch(e){u.e(e)}finally{u.f()}}else e.hasOwnProperty(o)?r[n[o]]=e[o]:r[n[o]]="";return r},D=function(e){var t;return!!(e=null===(t=e)||void 0===t?void 0:t.trim())},R=function(e){return D(A(e))},N=function(e){var t=e.match(w);return t?y({},t[1],t[2]):null},F=function(e){return[(e=e.trim()).split(" ").slice(0,-1).join(" "),e.split(" ").pop()]},L=function(e){var t,n,r;return(null===(t=E("generalData"))||void 0===t||null===(n=t.restRoutes)||void 0===n||null===(r=n[e])||void 0===r?void 0:r.url)||null},H=function(e){var t,n;return e=e.replace(/^\//,""),null===(t=E("generalData"))||void 0===t||null===(n=t.ajaxRestPath)||void 0===n?void 0:n.replace("%s",e)},V=function(){return E("generalData").page},G=function(){return"checkout"===V()},U=function(){return"cart"===V()},B=function(){return"order_pay"===V()},z=function(){return"product"===V()},J=function(){return"shop"===V()},Q=function(){return"add_payment_method"===V()},$=function(){return!1},X=function(e){return e.serializeArray().reduce((function(e,t){return p(p({},e),{},y({},t.name,t.value))}),{})},K=function(e,t){var n={};Object.keys(t).forEach((function(e){n["{".concat(e,"}")]=t[e]}));var r=e;return Object.keys(n).forEach((function(e){for(;r.includes(e);)r=r.replace(e,n[e])})),r},W=function(){var e,t;return(null===(e=E("generalData"))||void 0===e||null===(t=e.clientId)||void 0===t?void 0:t.length)>0},Y=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((function(){e.apply(void 0,o)}),n)}},Z=function(){var e;return!0===(null===(e=E("generalData"))||void 0===e?void 0:e.is_admin)},ee=function(){var e;return"production"===(null===(e=E("generalData"))||void 0===e?void 0:e.environment)},te=function(e){return(E("requiredFields")||[]).includes(e)}})(),(this.wcPPCP=this.wcPPCP||{}).utils=r})();
//# sourceMappingURL=utils.js.map