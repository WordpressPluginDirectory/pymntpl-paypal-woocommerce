{"version":3,"file":"googlepay-settings.js","mappings":"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","sources":["webpack://wcPPCP/webpack/bootstrap","webpack://wcPPCP/webpack/runtime/compat get default export","webpack://wcPPCP/webpack/runtime/define property getters","webpack://wcPPCP/webpack/runtime/hasOwnProperty shorthand","webpack://wcPPCP/webpack/runtime/make namespace object","webpack://wcPPCP/external window \"jQuery\"","webpack://wcPPCP/./assets/js/admin/settings/base-settings.js","webpack://wcPPCP/./assets/js/admin/settings/register.js","webpack://wcPPCP/./assets/js/admin/settings/googlepay-settings.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","import $ from 'jquery';\n\nclass BaseSettings {\n    constructor({id, prefix, data}) {\n        this.id = id;\n        this.prefix = prefix;\n        this.data = data;\n        $(document.body).on('change', '[name^=\"woocommerce_ppcp_\"]', this.handleInputChange.bind(this));\n        $(document.body).on('click', '.wc-ppcp-clipboard', this.handleClipboard.bind(this));\n        this.maybeShowDependencies();\n    }\n\n    getFieldKey(key) {\n        return `${this.prefix}${key}`;\n    }\n\n    getFieldValue(key) {\n        const $el = $(`#${this.getFieldKey(key)}`);\n        if ($el.is(':checkbox')) {\n            return $el.is(':checked');\n        }\n        return $el.val();\n    }\n\n    setFieldValue(key, value, trigger = false) {\n        const id = `#${this.getFieldKey(key)}`;\n        $(id).val(value);\n        if (trigger) {\n            $(id).trigger('change');\n        }\n    }\n\n    handleInputChange(e) {\n        this.maybeShowDependencies();\n        if ($(e.currentTarget).attr('name') === 'woocommerce_ppcp_use_place_order') {\n            if ($(e.currentTarget).is(':checked')) {\n                $('#woocommerce_ppcp_checkout_placement').val('place_order').trigger('change');\n            }\n        }\n    }\n\n    /**\n     * Shows dependency settings based on value\n     */\n    maybeShowDependencies() {\n        const elements = document.querySelectorAll('[data-show-if]');\n        const hiddenElements = [];\n        for (const element of elements) {\n            const attr = element.getAttribute('data-show-if');\n            const matches = attr.match(/(([\\w]+)=([\\w]+))+/g);\n            if (matches && !hiddenElements.includes(element.id)) {\n                for (const match of matches) {\n                    const [key, value] = match.split('=');\n                    const el = document.getElementById(`${this.prefix}${key}`);\n                    try {\n                        if ($(el).is(':checkbox')) {\n                            if (el.checked.toString() != value) {\n                                throw 'no match';\n                            }\n                        } else {\n                            if (el.value != value) {\n                                throw 'no match';\n                            }\n                        }\n                        $(element).closest('tr').show();\n                    } catch (err) {\n                        hiddenElements.push(element.id);\n                        $(element).closest('tr').hide();\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    getSettings() {\n        return wcPPCPSettings[this.id];\n    }\n\n    getLoaderHtml() {\n        return `<div class=\"wc-ppcp-loader\">\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>`;\n    }\n\n    showLoader(parent) {\n        $(parent).append(this.getLoaderHtml());\n    }\n\n    hideLoader(parent) {\n        $(parent).find('.wc-ppcp-loader').remove();\n    }\n\n    block(el = null, args = {}) {\n        const defaults = {\n            css: {\n                border: 'none',\n                'background-color': 'transparent',\n                'font-size': '16px'\n            },\n            overlayCSS: {\n                background: '#fff',\n                opacity: 0.7\n            }, ...args\n        }\n        if (el) {\n            $(el).block(defaults);\n        } else {\n            $.blockUI(defaults);\n        }\n    }\n\n    unblock(el) {\n        if (el) {\n            $(el).unblock();\n        } else {\n            $.unblockUI();\n        }\n    }\n\n    handleClipboard(e) {\n        const value = $(e.currentTarget).parent().data('clipboard');\n        const el = document.createElement('input');\n        el.value = value;\n        el.type = 'text';\n        $(document.body).append(el);\n        el.select();\n        document.execCommand('copy');\n        $(el).remove();\n    }\n\n    getAjaxPath(path) {\n        const ajaxUrl = wcPPCPSettings?.adminAjaxUrl || '';\n        path = path.replace(/(^\\/)/, '');\n        return ajaxUrl.replace('$path', path);\n    }\n}\n\nexport default BaseSettings;","export const registerSettings = (id, clazz) => {\n    new clazz({\n        id,\n        prefix: `woocommerce_${id}_`,\n        data: wcPPCPSettings?.[id] || {}\n    })\n}\n","import $ from 'jquery';\nimport BaseSettings from './base-settings';\nimport {registerSettings} from \"./register\";\n\nclass GooglePaySettings extends BaseSettings {\n    constructor(props) {\n        super(props);\n        this.initialize();\n    }\n\n    initialize() {\n\n    }\n}\n\nregisterSettings('ppcp_googlepay', GooglePaySettings);"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","window","id","_wcPPCPSettings","BaseSettings","_ref","prefix","data","_classCallCheck","this","$","document","body","on","handleInputChange","bind","handleClipboard","maybeShowDependencies","concat","$el","getFieldKey","is","val","trigger","arguments","length","undefined","e","currentTarget","attr","_step","hiddenElements","_iterator","_createForOfIteratorHelper","querySelectorAll","s","n","done","element","matches","getAttribute","match","includes","_step2","_iterator2","_match$split2","split","el","getElementById","checked","toString","closest","show","err","push","hide","f","wcPPCPSettings","parent","append","getLoaderHtml","find","remove","args","defaults","_objectSpread","css","border","overlayCSS","background","opacity","block","unblock","createElement","type","select","execCommand","path","ajaxUrl","adminAjaxUrl","replace","_BaseSettings","_inherits","GooglePaySettings","_super","props","_this","initialize"],"sourceRoot":""}